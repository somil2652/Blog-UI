"use strict";(self.webpackChunkblogs_ui=self.webpackChunkblogs_ui||[]).push([[485],{7485:(e,a,t)=>{t.r(a),t.d(a,{default:()=>u});var i=t(2791),r=t(7689),l=t(5127),s=t(2683),o=t(9389),n=t(5277),c=t(184);const{TextArea:d}=o.default,u=()=>{const{id:e}=(0,r.UO)(),a=(0,r.s0)(),[t]=s.KH.useForm(),[u,g]=(0,i.useState)({title:"",body:{description:"",links:""},likes:"",approved:"",imageUrl:"",categories:"",isSensitive:"",tags:"",writer:{id:"",name:"",email:"",profileUrl:"",famousWorks:""}});(0,i.useEffect)((()=>{e&&m()}),[e]);const m=async()=>{try{var a,i,r;const l=(await(0,n.aR)(e)).data.data;console.log(l),g({title:l.title,body:{description:(null===(a=l.body)||void 0===a?void 0:a.description)||"",links:(null===(i=l.body)||void 0===i?void 0:i.links)||""},likes:l.likes||"",approved:l.approved.toString()||"",imageUrl:l.imageUrl||"",categories:l.categories||"",isSensitive:l.isSensitive.toString()||"",tags:l.tags||"",writer:{id:l.writer.id||"",name:l.writer.name||"",email:l.writer.email||"",profileUrl:l.writer.profileUrl||"",famousWorks:l.writer.famousWorks||""}}),t.setFieldsValue({title:l.title,body:(null===(r=l.body)||void 0===r?void 0:r.description)||"",imageUrl:l.imageUrl,categories:l.categories,likes:l.likes,approved:l.approved.toString(),isSensitive:l.isSensitive.toString(),tags:l.tags,writerId:l.writer.id,writerName:l.writer.name,writerEmail:l.writer.email,writerProfile:l.writer.profileUrl})}catch(l){console.error("Error fetching item:",l)}},p=async e=>{try{await(0,n.nG)(e),a("/view")}catch(i){var t;401===(null===(t=i.response)||void 0===t?void 0:t.status)&&(a("/"),localStorage.removeItem("authToken"))}},b=async t=>{try{await(0,n.CP)(t,e),a("/view")}catch(r){var i;401===(null===(i=r.response)||void 0===i?void 0:i.status)&&(localStorage.removeItem("authToken"),a("/"))}},h=[{value:"true",label:"True"},{value:"false",label:"False"}];return(0,c.jsxs)(l.Z,{children:[(0,c.jsx)("h2",{style:{margin:"auto"},children:"create"!==e?"EDIT BLOG":"ADD BLOG"}),(0,c.jsx)(s.Zb,{style:{width:"1500",margin:0,borderRadius:10,boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",backgroundColor:"#ccc"},children:(0,c.jsxs)(s.l0,{form:t,labelCol:{span:4},wrapperCol:{span:14},layout:"horizontal",style:{maxWidth:600,alignContent:"center"},onFinish:a=>{const t={title:a.title,body:{description:a.body||"",links:""},imageUrl:a.imageUrl||"",categories:a.categories||"",likes:a.likes||"",approved:a.approved||"",isSensitive:a.isSensitive||"",tags:a.tags||"",writer:{id:a.writerId||"",name:a.writerName||"",email:a.writerEmail||"",profileUrl:a.writerProfile||"",famousWorks:""}};"create"===e?p(t):b(t)},children:[(0,c.jsx)(s.xJ,{name:"title",label:"Title",rules:[{required:!0,message:"Please enter a title"}],children:(0,c.jsx)(o.default,{defaultValue:u.title})}),(0,c.jsx)(s.xJ,{label:"Body",name:"body",rules:[{required:!0,message:"Please enter body"}],children:(0,c.jsx)(d,{rows:4})}),(0,c.jsx)(s.xJ,{label:"imageUrl",name:"imageUrl",children:(0,c.jsx)(o.default,{})}),(0,c.jsx)(s.xJ,{label:"Categories",name:"categories",rules:[{required:!0,message:"Please select category"}],children:(0,c.jsx)(s.Ph,{options:[{value:"travel",label:"travel"},{value:"study",label:"study"},{value:"fitness",label:"fitness"},{value:"lifestyle",label:"lifestyle"},{value:"sports",label:"sports"}]})}),(0,c.jsx)(s.xJ,{label:"likes",name:"likes",children:(0,c.jsx)(s.Rn,{})}),(0,c.jsx)(s.xJ,{"aria-label":"Approved",label:"Approved",name:"approved",rules:[{required:!0,message:"Please mention approved"}],children:(0,c.jsx)(s.FX,{options:h})}),(0,c.jsx)(s.xJ,{"aria-label":"isSensitive",label:"isSensitive",name:"isSensitive",rules:[{required:!0,message:"Please specify sensitivity"}],children:(0,c.jsx)(s.FX,{options:h})}),(0,c.jsx)(s.xJ,{label:"Writer-Id",name:"writerId",children:(0,c.jsx)(s.Rn,{})}),(0,c.jsx)(s.xJ,{label:"Writer-Name",name:"writerName",children:(0,c.jsx)(o.default,{})}),(0,c.jsx)(s.xJ,{label:"Writer-Email",name:"writerEmail",children:(0,c.jsx)(o.default,{})}),(0,c.jsx)(s.xJ,{label:"Writer-ProfilePicUrl",name:"writerProfile",children:(0,c.jsx)(o.default,{})}),(0,c.jsx)(s.xJ,{label:"tags",name:"tags",children:(0,c.jsx)(d,{rows:3})}),(0,c.jsx)(s.xJ,{label:" ",colon:!1,children:(0,c.jsx)(s.zx,{"data-testid":"add-btn",type:"primary",htmlType:"submit",name:"ADD"})})]})})]})}},5277:(e,a,t)=>{t.d(a,{CP:()=>m,Ik:()=>c,OX:()=>s,PR:()=>o,SR:()=>u,_Z:()=>l,aR:()=>g,cj:()=>n,kt:()=>b,nG:()=>p,rd:()=>d});var i=t(5294),r=t(7406);const l=async(e,a)=>await i.Z.get("".concat(r.E,"/get?page=").concat(e,"&limit=").concat(a),{headers:{Authorization:localStorage.getItem("authToken")}}),s=async(e,a,t)=>await i.Z.get("".concat(r.E,"/search/").concat(e,"?page=").concat(a,"&limit=").concat(t)),o=async(e,a,t)=>await i.Z.get("".concat(r.E,"/getbycategories/").concat(e,"?page=").concat(a,"&limit=").concat(t)),n=async e=>await i.Z.get("".concat(r.E,"/bulk-uploads-errors/").concat(e)),c=async()=>await i.Z.get("".concat(r.E,"/bulk-uploads-list")),d=async e=>await i.Z.post("".concat(r.E,"/bulk-upload"),e,{headers:{"Content-Type":"multipart/form-data",Authorization:localStorage.getItem("authToken")}}),u=async e=>await i.Z.delete("".concat(r.E,"/").concat(e),{headers:{Authorization:localStorage.getItem("authToken")}}),g=async e=>await i.Z.get("".concat(r.E,"/getbyid/").concat(e)),m=async(e,a)=>{await i.Z.patch("".concat(r.E,"/updatebyid/").concat(a),e,{headers:{Authorization:localStorage.getItem("authToken")}})},p=async e=>await i.Z.post("".concat(r.E,"/create"),e,{headers:{Authorization:localStorage.getItem("authToken")}}),b=async e=>await i.Z.get("".concat(r.E,"/getbyid/").concat(e))}}]);
//# sourceMappingURL=485.1649f3a5.chunk.js.map