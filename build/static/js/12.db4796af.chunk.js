"use strict";(self.webpackChunkblogs_ui=self.webpackChunkblogs_ui||[]).push([[12],{12:(t,e,a)=>{a.r(e),a.d(e,{default:()=>X});var n=a(2791),c=a(2683),i=a(3433),o=a(1418),l=a.n(o),r=a(9585),s=a(635),d=a(1929),m=a(7908),g=a(7545),p=a(2832),u=a(6834),h=a(43),f=a(1113),x=a(9752);const y=n.createContext({});y.Consumer;var b=function(t,e){var a={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(a[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(t);c<n.length;c++)e.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(t,n[c])&&(a[n[c]]=t[n[c]])}return a};const v=(t,e)=>{var{prefixCls:a,children:c,actions:i,extra:o,className:r,colStyle:s}=t,m=b(t,["prefixCls","children","actions","extra","className","colStyle"]);const{grid:g,itemLayout:p}=(0,n.useContext)(y),{getPrefixCls:u}=(0,n.useContext)(d.E_),h=u("list",a),v=i&&i.length>0&&n.createElement("ul",{className:"".concat(h,"-item-action"),key:"actions"},i.map(((t,e)=>n.createElement("li",{key:"".concat(h,"-item-action-").concat(e)},t,e!==i.length-1&&n.createElement("em",{className:"".concat(h,"-item-action-split")}))))),S=g?"div":"li",k=n.createElement(S,Object.assign({},m,g?{}:{ref:e},{className:l()("".concat(h,"-item"),{["".concat(h,"-item-no-flex")]:!("vertical"===p?o:!(()=>{let t;return n.Children.forEach(c,(e=>{"string"===typeof e&&(t=!0)})),t&&n.Children.count(c)>1})())},r)}),"vertical"===p&&o?[n.createElement("div",{className:"".concat(h,"-item-main"),key:"content"},c,v),n.createElement("div",{className:"".concat(h,"-item-extra"),key:"extra"},o)]:[c,v,(0,f.Tm)(o,{key:"extra"})]);return g?n.createElement(x.Z,{ref:e,flex:1,style:s},k):k},S=(0,n.forwardRef)(v);S.Meta=t=>{var{prefixCls:e,className:a,avatar:c,title:i,description:o}=t,r=b(t,["prefixCls","className","avatar","title","description"]);const{getPrefixCls:s}=(0,n.useContext)(d.E_),m=s("list",e),g=l()("".concat(m,"-item-meta"),a),p=n.createElement("div",{className:"".concat(m,"-item-meta-content")},i&&n.createElement("h4",{className:"".concat(m,"-item-meta-title")},i),o&&n.createElement("div",{className:"".concat(m,"-item-meta-description")},o));return n.createElement("div",Object.assign({},r,{className:g}),c&&n.createElement("div",{className:"".concat(m,"-item-meta-avatar")},c),(i||o)&&p)};const k=S;var E=a(5586),C=a(7521),j=a(6562),w=a(9922);const z=t=>{const{listBorderedCls:e,componentCls:a,paddingLG:n,margin:c,itemPaddingSM:i,itemPaddingLG:o,marginLG:l,borderRadiusLG:r}=t;return{["".concat(e)]:{border:"".concat((0,E.bf)(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorBorder),borderRadius:r,["".concat(a,"-header,").concat(a,"-footer,").concat(a,"-item")]:{paddingInline:n},["".concat(a,"-pagination")]:{margin:"".concat((0,E.bf)(c)," ").concat((0,E.bf)(l))}},["".concat(e).concat(a,"-sm")]:{["".concat(a,"-item,").concat(a,"-header,").concat(a,"-footer")]:{padding:i}},["".concat(e).concat(a,"-lg")]:{["".concat(a,"-item,").concat(a,"-header,").concat(a,"-footer")]:{padding:o}}}},O=t=>{const{componentCls:e,screenSM:a,screenMD:n,marginLG:c,marginSM:i,margin:o}=t;return{["@media screen and (max-width:".concat(n,"px)")]:{["".concat(e)]:{["".concat(e,"-item")]:{["".concat(e,"-item-action")]:{marginInlineStart:c}}},["".concat(e,"-vertical")]:{["".concat(e,"-item")]:{["".concat(e,"-item-extra")]:{marginInlineStart:c}}}},["@media screen and (max-width: ".concat(a,"px)")]:{["".concat(e)]:{["".concat(e,"-item")]:{flexWrap:"wrap",["".concat(e,"-action")]:{marginInlineStart:i}}},["".concat(e,"-vertical")]:{["".concat(e,"-item")]:{flexWrap:"wrap-reverse",["".concat(e,"-item-main")]:{minWidth:t.contentWidth},["".concat(e,"-item-extra")]:{margin:"auto auto ".concat((0,E.bf)(o))}}}}}},I=t=>{const{componentCls:e,antCls:a,controlHeight:n,minHeight:c,paddingSM:i,marginLG:o,padding:l,itemPadding:r,colorPrimary:s,itemPaddingSM:d,itemPaddingLG:m,paddingXS:g,margin:p,colorText:u,colorTextDescription:h,motionDurationSlow:f,lineWidth:x,headerBg:y,footerBg:b,emptyTextPadding:v,metaMarginBottom:S,avatarMarginRight:k,titleMarginBottom:j,descriptionFontSize:w}=t,z={};return["start","center","end"].forEach((t=>{z["&-align-".concat(t)]={textAlign:t}})),{["".concat(e)]:Object.assign(Object.assign({},(0,C.Wf)(t)),{position:"relative","*":{outline:"none"},["".concat(e,"-header")]:{background:y},["".concat(e,"-footer")]:{background:b},["".concat(e,"-header, ").concat(e,"-footer")]:{paddingBlock:i},["".concat(e,"-pagination")]:Object.assign(Object.assign({marginBlockStart:o},z),{["".concat(a,"-pagination-options")]:{textAlign:"start"}}),["".concat(e,"-spin")]:{minHeight:c,textAlign:"center"},["".concat(e,"-items")]:{margin:0,padding:0,listStyle:"none"},["".concat(e,"-item")]:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:r,color:u,["".concat(e,"-item-meta")]:{display:"flex",flex:1,alignItems:"flex-start",maxWidth:"100%",["".concat(e,"-item-meta-avatar")]:{marginInlineEnd:k},["".concat(e,"-item-meta-content")]:{flex:"1 0",width:0,color:u},["".concat(e,"-item-meta-title")]:{margin:"0 0 ".concat((0,E.bf)(t.marginXXS)," 0"),color:u,fontSize:t.fontSize,lineHeight:t.lineHeight,"> a":{color:u,transition:"all ".concat(f),"&:hover":{color:s}}},["".concat(e,"-item-meta-description")]:{color:h,fontSize:w,lineHeight:t.lineHeight}},["".concat(e,"-item-action")]:{flex:"0 0 auto",marginInlineStart:t.marginXXL,padding:0,fontSize:0,listStyle:"none","& > li":{position:"relative",display:"inline-block",padding:"0 ".concat((0,E.bf)(g)),color:h,fontSize:t.fontSize,lineHeight:t.lineHeight,textAlign:"center","&:first-child":{paddingInlineStart:0}},["".concat(e,"-item-action-split")]:{position:"absolute",insetBlockStart:"50%",insetInlineEnd:0,width:x,height:t.calc(t.fontHeight).sub(t.calc(t.marginXXS).mul(2)).equal(),transform:"translateY(-50%)",backgroundColor:t.colorSplit}}},["".concat(e,"-empty")]:{padding:"".concat((0,E.bf)(l)," 0"),color:h,fontSize:t.fontSizeSM,textAlign:"center"},["".concat(e,"-empty-text")]:{padding:v,color:t.colorTextDisabled,fontSize:t.fontSize,textAlign:"center"},["".concat(e,"-item-no-flex")]:{display:"block"}}),["".concat(e,"-grid ").concat(a,"-col > ").concat(e,"-item")]:{display:"block",maxWidth:"100%",marginBlockEnd:p,paddingBlock:0,borderBlockEnd:"none"},["".concat(e,"-vertical ").concat(e,"-item")]:{alignItems:"initial",["".concat(e,"-item-main")]:{display:"block",flex:1},["".concat(e,"-item-extra")]:{marginInlineStart:o},["".concat(e,"-item-meta")]:{marginBlockEnd:S,["".concat(e,"-item-meta-title")]:{marginBlockStart:0,marginBlockEnd:j,color:u,fontSize:t.fontSizeLG,lineHeight:t.lineHeightLG}},["".concat(e,"-item-action")]:{marginBlockStart:l,marginInlineStart:"auto","> li":{padding:"0 ".concat((0,E.bf)(l)),"&:first-child":{paddingInlineStart:0}}}},["".concat(e,"-split ").concat(e,"-item")]:{borderBlockEnd:"".concat((0,E.bf)(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorSplit),"&:last-child":{borderBlockEnd:"none"}},["".concat(e,"-split ").concat(e,"-header")]:{borderBlockEnd:"".concat((0,E.bf)(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorSplit)},["".concat(e,"-split").concat(e,"-empty ").concat(e,"-footer")]:{borderTop:"".concat((0,E.bf)(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorSplit)},["".concat(e,"-loading ").concat(e,"-spin-nested-loading")]:{minHeight:n},["".concat(e,"-split").concat(e,"-something-after-last-item ").concat(a,"-spin-container > ").concat(e,"-items > ").concat(e,"-item:last-child")]:{borderBlockEnd:"".concat((0,E.bf)(t.lineWidth)," ").concat(t.lineType," ").concat(t.colorSplit)},["".concat(e,"-lg ").concat(e,"-item")]:{padding:m},["".concat(e,"-sm ").concat(e,"-item")]:{padding:d},["".concat(e,":not(").concat(e,"-vertical)")]:{["".concat(e,"-item-no-flex")]:{["".concat(e,"-item-action")]:{float:"right"}}}}},N=(0,j.I$)("List",(t=>{const e=(0,w.TS)(t,{listBorderedCls:"".concat(t.componentCls,"-bordered"),minHeight:t.controlHeightLG});return[I(e),z(e),O(e)]}),(t=>({contentWidth:220,itemPadding:"".concat((0,E.bf)(t.paddingContentVertical)," 0"),itemPaddingSM:"".concat((0,E.bf)(t.paddingContentVerticalSM)," ").concat((0,E.bf)(t.paddingContentHorizontal)),itemPaddingLG:"".concat((0,E.bf)(t.paddingContentVerticalLG)," ").concat((0,E.bf)(t.paddingContentHorizontalLG)),headerBg:"transparent",footerBg:"transparent",emptyTextPadding:t.padding,metaMarginBottom:t.padding,avatarMarginRight:t.padding,titleMarginBottom:t.paddingSM,descriptionFontSize:t.fontSize})));var P=a(4107),B=function(t,e){var a={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(a[n]=t[n]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var c=0;for(n=Object.getOwnPropertySymbols(t);c<n.length;c++)e.indexOf(n[c])<0&&Object.prototype.propertyIsEnumerable.call(t,n[c])&&(a[n[c]]=t[n[c]])}return a};function Z(t){var e,{pagination:a=!1,prefixCls:c,bordered:o=!1,split:f=!0,className:x,rootClassName:b,style:v,children:S,itemLayout:k,loadMore:E,grid:C,dataSource:j=[],size:w,header:z,footer:O,loading:I=!1,rowKey:Z,renderItem:M,locale:L}=t,T=B(t,["pagination","prefixCls","bordered","split","className","rootClassName","style","children","itemLayout","loadMore","grid","dataSource","size","header","footer","loading","rowKey","renderItem","locale"]);const H=a&&"object"===typeof a?a:{},[W,G]=n.useState(H.defaultCurrent||1),[R,A]=n.useState(H.defaultPageSize||10),{getPrefixCls:_,renderEmpty:X,direction:D,list:F}=n.useContext(d.E_),K=t=>(e,n)=>{var c;G(e),A(n),a&&a[t]&&(null===(c=null===a||void 0===a?void 0:a[t])||void 0===c||c.call(a,e,n))},V=K("onChange"),q=K("onShowSizeChange"),J=_("list",c),[U,Y,$]=N(J);let Q=I;"boolean"===typeof Q&&(Q={spinning:Q});const tt=Q&&Q.spinning;let et="";switch((0,P.Z)(w)){case"large":et="lg";break;case"small":et="sm"}const at=l()(J,{["".concat(J,"-vertical")]:"vertical"===k,["".concat(J,"-").concat(et)]:et,["".concat(J,"-split")]:f,["".concat(J,"-bordered")]:o,["".concat(J,"-loading")]:tt,["".concat(J,"-grid")]:!!C,["".concat(J,"-something-after-last-item")]:!!(E||a||O),["".concat(J,"-rtl")]:"rtl"===D},null===F||void 0===F?void 0:F.className,x,b,Y,$),nt=(0,r.Z)({current:1,total:0},{total:j.length,current:W,pageSize:R},a||{}),ct=Math.ceil(nt.total/nt.pageSize);nt.current>ct&&(nt.current=ct);const it=a?n.createElement("div",{className:l()("".concat(J,"-pagination"),"".concat(J,"-pagination-align-").concat(null!==(e=null===nt||void 0===nt?void 0:nt.align)&&void 0!==e?e:"end"))},n.createElement(u.Z,Object.assign({},nt,{onChange:V,onShowSizeChange:q}))):null;let ot=(0,i.Z)(j);a&&j.length>(nt.current-1)*nt.pageSize&&(ot=(0,i.Z)(j).splice((nt.current-1)*nt.pageSize,nt.pageSize));const lt=Object.keys(C||{}).some((t=>["xs","sm","md","lg","xl","xxl"].includes(t))),rt=(0,p.Z)(lt),st=n.useMemo((()=>{for(let t=0;t<s.c4.length;t+=1){const e=s.c4[t];if(rt[e])return e}}),[rt]),dt=n.useMemo((()=>{if(!C)return;const t=st&&C[st]?C[st]:C.column;return t?{width:"".concat(100/t,"%"),maxWidth:"".concat(100/t,"%")}:void 0}),[null===C||void 0===C?void 0:C.column,st]);let mt=tt&&n.createElement("div",{style:{minHeight:53}});if(ot.length>0){const t=ot.map(((t,e)=>((t,e)=>{if(!M)return null;let a;return a="function"===typeof Z?Z(t):Z?t[Z]:t.key,a||(a="list-item-".concat(e)),n.createElement(n.Fragment,{key:a},M(t,e))})(t,e)));mt=C?n.createElement(g.Z,{gutter:C.gutter},n.Children.map(t,(t=>n.createElement("div",{key:null===t||void 0===t?void 0:t.key,style:dt},t)))):n.createElement("ul",{className:"".concat(J,"-items")},t)}else S||tt||(mt=n.createElement("div",{className:"".concat(J,"-empty-text")},L&&L.emptyText||(null===X||void 0===X?void 0:X("List"))||n.createElement(m.Z,{componentName:"List"})));const gt=nt.position||"bottom",pt=n.useMemo((()=>({grid:C,itemLayout:k})),[JSON.stringify(C),k]);return U(n.createElement(y.Provider,{value:pt},n.createElement("div",Object.assign({style:Object.assign(Object.assign({},null===F||void 0===F?void 0:F.style),v),className:at},T),("top"===gt||"both"===gt)&&it,z&&n.createElement("div",{className:"".concat(J,"-header")},z),n.createElement(h.Z,Object.assign({},Q),mt,S),O&&n.createElement("div",{className:"".concat(J,"-footer")},O),E||("bottom"===gt||"both"===gt)&&it)))}Z.Item=k;const M=Z;var L=a(184);const T=t=>(0,L.jsx)(M,{...t}),H=t=>(0,L.jsx)(M.Item,{...t}),W=t=>(0,L.jsx)(M.Item.Meta,{...t});var G=a(7689),R=a(5127),A=a(5277);let _=0;const X=()=>{_+=1;const[t,e]=(0,n.useState)([]),[a,i]=(0,n.useState)(!1),[o,l]=(0,n.useState)(""),[r,s]=(0,n.useState)(!1),[d,m]=(0,n.useState)(1),[g,p]=(0,n.useState)("all"),[u,h]=(0,n.useState)(""),f=(0,G.s0)(),x=async()=>{s(!0);const{data:t}=await(0,A._Z)(d,5);e(t.data),s(!1)},y=async()=>{s(!0);try{const{data:t}=await(0,A.OX)(o,d,5);e(t.data)}catch(t){f("/other")}finally{s(!1)}},b=async()=>{const{data:t}=await(0,A.PR)(g,d,5);e(t.data)};if((0,n.useEffect)((()=>{"all"!==g?b():"all"===g&&_>1&&x()}),[g]),(0,n.useEffect)((()=>{o||"all"!==g?o?y():"all"!==g&&d>1&&b():x()}),[d]),0===t.length)return(0,L.jsx)(R.Z,{children:(0,L.jsx)("div",{children:(0,L.jsx)("p",{children:"No data available"})})});return(0,L.jsxs)(R.Z,{children:[(0,L.jsxs)("div",{"data-testid":"header-div",style:{backgroundColor:"#333",display:"flex",alignItems:"center",padding:"0 4px",height:"60px",margin:0,borderBottom:"2px solid black"},children:[(0,L.jsx)("input",{id:"search",type:"text","data-testid":"search-input",placeholder:"Search Here....",value:o,style:{border:"2px solid black",height:30,margin:0,padding:"0 8px",borderRadius:"4px"},onChange:t=>l(t.target.value),onKeyDown:async t=>{"Enter"===t.key&&y()}}),(0,L.jsx)(c.zx,{onClick:()=>{o.length>0&&y()},iconname:"search","data-testid":"search-btn",style:{border:"2px solid black",height:30,width:30,margin:"0 4px",padding:"2px",color:"black",cursor:"pointer"}}),(0,L.jsxs)("select",{name:"menubar",value:g,"data-testid":"filter-menu",style:{border:"2px solid black",height:30,margin:"0 5px",padding:0,backgroundColor:"#444",color:"white"},onChange:t=>{p(t.target.value)},children:[(0,L.jsx)("option",{value:"all",children:"All"}),(0,L.jsx)("option",{value:"travel",children:"Travel"}),(0,L.jsx)("option",{value:"study",children:"Study"}),(0,L.jsx)("option",{value:"fitness",children:"Fitness"}),(0,L.jsx)("option",{value:"lifestyle",children:"Lifestyle"})]}),(0,L.jsx)("button",{"data-testid":"create-icon",type:"dashed",onClick:()=>{f("/update/create")},style:{border:"2px solid black",height:30,width:60,margin:"4px 4px 4px auto",padding:2},children:"create"})]}),(0,L.jsx)(c.u_,{title:"Confirmation ",open:a,onOk:()=>{(async t=>{try{await(0,A.SR)(t)}catch(a){var e;401===(null===(e=a.response)||void 0===e?void 0:e.status)&&(localStorage.removeItem("authToken"),f("/"))}})(u),i(!1),e((t=>t.filter((t=>t._id!==u))))},onCancel:()=>{i(!1)}}),r?(0,L.jsx)(c.yC,{"data-testid":"spinner"}):null,(0,L.jsx)(T,{"data-testid":"list-blog",itemLayout:"vertical",size:"large",dataSource:t,renderItem:t=>(0,L.jsxs)(H,{extra:(0,L.jsx)("img",{width:272,height:180,alt:"logo",src:null===t||void 0===t?void 0:t.imageUrl}),children:[(0,L.jsx)(W,{title:null===t||void 0===t?void 0:t.title,description:null===t||void 0===t?void 0:t.categories}),null===t||void 0===t?void 0:t.body.description,(0,L.jsx)("br",{}),(0,L.jsx)("br",{}),(0,L.jsx)(c.zx,{"data-testid":"view-btn",onClick:()=>(async t=>{f("/details/".concat(t))})(null===t||void 0===t?void 0:t._id),style:{marginRight:40},iconname:"view"}),(0,L.jsx)(c.zx,{"data-testid":"edit-btn",onClick:()=>(async t=>{f("/update/".concat(t))})(t._id),style:{marginRight:40},iconname:"edit"}),(0,L.jsx)(c.zx,{"data-testid":"delete-btn",onClick:()=>{return e=null===t||void 0===t?void 0:t._id,i(!0),void h(e);var e},iconname:"delete"})]},null===t||void 0===t?void 0:t.title)}),(0,L.jsxs)("footer",{children:[(0,L.jsx)("button",{disabled:1===d,onClick:()=>{m((t=>1===t?t:t-1))},children:"Previous"}),(0,L.jsx)("span",{children:"Page ".concat(d)}),(0,L.jsx)("button",{onClick:()=>{m((t=>t+1))},children:"Next"})]})]})}},5277:(t,e,a)=>{a.d(e,{CP:()=>p,Ik:()=>s,OX:()=>o,PR:()=>l,SR:()=>m,_Z:()=>i,aR:()=>g,cj:()=>r,kt:()=>h,nG:()=>u,rd:()=>d});var n=a(5294),c=a(7406);const i=async(t,e)=>await n.Z.get("".concat(c.E,"/get?page=").concat(t,"&limit=").concat(e),{headers:{Authorization:localStorage.getItem("authToken")}}),o=async(t,e,a)=>await n.Z.get("".concat(c.E,"/search/").concat(t,"?page=").concat(e,"&limit=").concat(a)),l=async(t,e,a)=>await n.Z.get("".concat(c.E,"/getbycategories/").concat(t,"?page=").concat(e,"&limit=").concat(a)),r=async t=>await n.Z.get("".concat(c.E,"/bulk-uploads-errors/").concat(t)),s=async()=>await n.Z.get("".concat(c.E,"/bulk-uploads-list")),d=async t=>await n.Z.post("".concat(c.E,"/bulk-upload"),t,{headers:{"Content-Type":"multipart/form-data",Authorization:localStorage.getItem("authToken")}}),m=async t=>await n.Z.delete("".concat(c.E,"/").concat(t),{headers:{Authorization:localStorage.getItem("authToken")}}),g=async t=>await n.Z.get("".concat(c.E,"/getbyid/").concat(t)),p=async(t,e)=>{await n.Z.patch("".concat(c.E,"/updatebyid/").concat(e),t,{headers:{Authorization:localStorage.getItem("authToken")}})},u=async t=>await n.Z.post("".concat(c.E,"/create"),t,{headers:{Authorization:localStorage.getItem("authToken")}}),h=async t=>await n.Z.get("".concat(c.E,"/getbyid/").concat(t))}}]);
//# sourceMappingURL=12.db4796af.chunk.js.map