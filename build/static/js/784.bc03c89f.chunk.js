"use strict";(self.webpackChunkblogs_ui=self.webpackChunkblogs_ui||[]).push([[784],{7406:(e,s,t)=>{t.d(s,{D:()=>i,E:()=>a});const a="http://localhost:4000/blogs",i="http://localhost:4000/user"},8784:(e,s,t)=>{t.r(s),t.d(s,{default:()=>q});var a=t(2791),i=t(1087),r=t(7689),n=t(2683),l=t(5294),d=t(7406);var o=t(5722);const c=e=>o.ZP.success({type:"success",content:e,duration:2}),x=e=>o.ZP.error({type:"error",content:e,duration:2});var m=t(184);const h=()=>{const[e,s]=(0,a.useState)("login"),t=(0,r.s0)();return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/Blogger_logo.svg/2560px-Blogger_logo.svg.png",height:150,width:300,alt:"img"}),(0,m.jsx)(n.Zb,{title:"login"===e?"Login":"Register",style:{fontFamily:"fantasy",fontStyle:"italic",width:400,margin:"auto",marginTop:50,borderRadius:10,boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",backgroundColor:"#f7f7f7"},children:(0,m.jsx)(n.l0,{"data-testid":"login-form",onFinish:"login"===e?async e=>{try{console.log("event :",e);const s=await(async e=>await l.Z.post("".concat(d.D,"/login"),e))(e);if(200!==s.status)throw new Error("Login Failed");localStorage.setItem("authToken",null===s||void 0===s?void 0:s.data.authToken),c("Login Successful"),t("/view")}catch(s){x("Login Failed")}}:async e=>{try{const s=await(async e=>await l.Z.post("".concat(d.D,"/register"),e))(e);if(200!==s.status)throw new Error("Register failed");c("Registered Successfull")}catch(s){x("Register Failed")}},children:"login"===e?(0,m.jsxs)(n.T,{direction:"vertical",children:[(0,m.jsx)(n.xJ,{label:"Email",name:"email","data-testid":"email",rules:[{required:!0,message:"Email is required"}],children:(0,m.jsx)(n.II,{})}),(0,m.jsx)(n.xJ,{label:"Password",name:"password","data-testid":"pass",rules:[{required:!0,message:"Password is required"}],children:(0,m.jsx)(n.CM,{})}),(0,m.jsx)(n.zx,{type:"primary",htmlType:"submit","data-testid":"loginBtn",block:!0,name:"Login"}),(0,m.jsx)(n.ZT,{style:{margin:"10px 0"},name:"OR"}),(0,m.jsx)(n.zx,{"data-testid":"reg-btn",type:"dashed",onClick:()=>s("register"),name:" Create new account"})]}):(0,m.jsxs)(n.T,{direction:"vertical",children:[(0,m.jsx)(n.xJ,{label:"Name",name:"name",rules:[{required:!0,message:"Name is required"}],children:(0,m.jsx)(n.II,{})}),(0,m.jsx)(n.xJ,{label:"Email",name:"email",rules:[{required:!0,message:"Email is required"}],children:(0,m.jsx)(n.II,{})}),(0,m.jsx)(n.xJ,{label:"Phone",name:"phone",rules:[{required:!0,message:"Phone is required"}],children:(0,m.jsx)(n.II,{})}),(0,m.jsx)(n.xJ,{label:"Address",name:"address",rules:[{required:!0,message:"Address is required"}],children:(0,m.jsx)(n.II,{})}),(0,m.jsx)(n.xJ,{label:"Password",name:"password",rules:[{required:!0,message:"Password is required"},{min:8,message:"Password must be at least 8 characters"}],style:{margin:5},children:(0,m.jsx)(n.CM,{})}),(0,m.jsx)(n.zx,{"data-testid":"register-btn",type:"primary",block:!0,htmlType:"submit",name:"Register"}),(0,m.jsx)(n.ZT,{style:{margin:"10px 0"},name:"OR"}),(0,m.jsx)(n.zx,{"data-testid":"go-to-login",type:"dashed",onClick:()=>s("login"),name:"Already have an account"})]})})})]})},u=(0,a.lazy)((()=>t.e(348).then(t.bind(t,6348)))),g=()=>{const[e,s]=(0,a.useState)(!1),t=localStorage.getItem("authToken"),i=(0,r.s0)();return(0,a.useEffect)((()=>{t&&s(!0)}),[t,i]),e?i("/view"):(0,m.jsx)(r.j3,{})},j=(0,a.lazy)((()=>t.e(103).then(t.bind(t,2103)))),p=(0,a.lazy)((()=>t.e(12).then(t.bind(t,12)))),b=(0,a.lazy)((()=>t.e(226).then(t.bind(t,226)))),y=(0,a.lazy)((()=>t.e(485).then(t.bind(t,7485)))),w=(0,a.lazy)((()=>t.e(869).then(t.bind(t,6869)))),f=(0,a.lazy)((()=>t.e(582).then(t.bind(t,582)))),k=(0,a.lazy)((()=>t.e(962).then(t.bind(t,3962)))),q=()=>(0,m.jsx)(i.VK,{children:(0,m.jsxs)(r.Z5,{children:[(0,m.jsx)(r.AW,{element:(0,m.jsx)(g,{}),children:(0,m.jsx)(r.AW,{path:"/",element:(0,m.jsx)(h,{})})}),(0,m.jsxs)(r.AW,{element:(0,m.jsx)(j,{}),children:[(0,m.jsx)(r.AW,{path:"/view",element:(0,m.jsx)(p,{})}),(0,m.jsx)(r.AW,{path:"/details/:id",element:(0,m.jsx)(b,{})}),(0,m.jsx)(r.AW,{path:"/update/:id",element:(0,m.jsx)(y,{})}),(0,m.jsx)(r.AW,{path:"/upload",element:(0,m.jsx)(w,{})}),(0,m.jsx)(r.AW,{path:"/bulk-list",element:(0,m.jsx)(k,{})}),(0,m.jsx)(r.AW,{path:"/bulk-errors/:session_id",element:(0,m.jsx)(f,{})}),(0,m.jsx)(r.AW,{path:"*",element:(0,m.jsx)(u,{})})]})]})})}}]);
//# sourceMappingURL=784.bc03c89f.chunk.js.map